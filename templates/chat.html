{{ define "chat" }}
<div id="chat">
  <h1>Hi, {{ .name }}! You have entered the chat</h1>

  <div hx-ext="sse" hx-swap="beforeend" hx-target="#messages" sse-connect="/events" sse-swap="message"></div>
  <ul id="messages"></ul>

  <form hx-post="/message" hx-swap="none" hx-on::after-request="this.reset()">
    <span>Message: </span>
    <input type="text" name="message"/>
    <button type="submit">Send</button>
  </form>
</div>
{{ end }}
